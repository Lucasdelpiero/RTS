[gd_scene load_steps=30 format=3 uid="uid://d0qglixbf5jcg"]

[ext_resource type="Script" path="res://Objects/Battle/battle_map.gd" id="1_3dkh7"]
[ext_resource type="PackedScene" uid="uid://cowxiuqx35gta" path="res://Objects/Battle/battle_ui.tscn" id="2_41tas"]
[ext_resource type="PackedScene" path="res://Objects/General/camera.tscn" id="2_a41j7"]
[ext_resource type="PackedScene" uid="uid://bmgcl5m2bqfuu" path="res://Objects/Battle/units_controller.tscn" id="2_cu7ak"]
[ext_resource type="PackedScene" uid="uid://cc7nsjg04s2lx" path="res://Objects/General/debug.tscn" id="2_efedw"]
[ext_resource type="PackedScene" uid="uid://dl7smlakh6u8f" path="res://Objects/General/mouse.tscn" id="2_mnpce"]
[ext_resource type="PackedScene" uid="uid://v1d5ygtvkrrj" path="res://Objects/Battle/player_units_management.tscn" id="3_eq3d1"]
[ext_resource type="PackedScene" uid="uid://bmavvajsmr1uu" path="res://Objects/Battle/enemy_battle_ia.tscn" id="4_8vivy"]
[ext_resource type="Script" path="res://Objects/Battle/army_group_control.gd" id="4_e2hns"]
[ext_resource type="PackedScene" path="res://Objects/Battle/overlay_unit.tscn" id="4_vae5l"]
[ext_resource type="PackedScene" path="res://Objects/Battle/navigation_tile_map.tscn" id="6_cde6g"]
[ext_resource type="PackedScene" uid="uid://cdrwwoq0li4fn" path="res://Objects/Battle/Units/hastati.tscn" id="8_5lvcp"]
[ext_resource type="Texture2D" uid="uid://cgp6f6m73ehi7" path="res://icon.svg" id="9_cjm0x"]
[ext_resource type="Script" path="res://Objects/Battle/Units/Components/weapons_data.gd" id="11_7t20r"]
[ext_resource type="PackedScene" uid="uid://c772uoiyt6oiu" path="res://Objects/Battle/Units/bowman.tscn" id="11_kyhj3"]
[ext_resource type="Script" path="res://Objects/Battle/general_res.gd" id="12_stqdv"]
[ext_resource type="PackedScene" uid="uid://ba3haq528ht28" path="res://Objects/Battle/Units/cavalry.tscn" id="19_k68q6"]

[sub_resource type="Resource" id="Resource_jdtum"]
script = ExtResource("12_stqdv")
name = "Unknown"
experience = 0
skill = 5
initiative = 5
charisma = 7
patience = 100

[sub_resource type="Resource" id="Resource_32fhg"]
script = ExtResource("11_7t20r")

[sub_resource type="Resource" id="Resource_lfj8g"]
script = ExtResource("11_7t20r")

[sub_resource type="Resource" id="Resource_weiv1"]
script = ExtResource("11_7t20r")

[sub_resource type="Resource" id="Resource_ewx0j"]
script = ExtResource("11_7t20r")

[sub_resource type="Resource" id="Resource_3v80y"]
script = ExtResource("11_7t20r")

[sub_resource type="Resource" id="Resource_r21t8"]
script = ExtResource("11_7t20r")

[sub_resource type="Resource" id="Resource_vue58"]
script = ExtResource("11_7t20r")

[sub_resource type="Resource" id="Resource_7qbjt"]
script = ExtResource("11_7t20r")

[sub_resource type="Resource" id="Resource_5g4gh"]
script = ExtResource("11_7t20r")

[sub_resource type="Resource" id="Resource_kfde0"]
script = ExtResource("11_7t20r")

[sub_resource type="NavigationPolygon" id="NavigationPolygon_jyvkp"]
vertices = PackedVector2Array(-9239, 3565, -8695, -8291, 14249, -8110, 14430, 8136, -8831, 7910)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3, 4)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-9239, 3565, -8695, -8291, 14249, -8110, 14430, 8136, -8831, 7910)])

[node name="BattleMap" type="Node2D"]
script = ExtResource("1_3dkh7")
metadata/_edit_vertical_guides_ = [1584.0]

[node name="Debug" parent="." instance=ExtResource("2_efedw")]

[node name="Button" type="Button" parent="Debug"]
offset_left = 1378.0
offset_top = 57.0
offset_right = 1459.0
offset_bottom = 105.0

[node name="BattleUI" parent="." instance=ExtResource("2_41tas")]

[node name="OverlayUnit" parent="BattleUI" instance=ExtResource("4_vae5l")]
visible = false
offset_left = 536.0
offset_top = 28.0
offset_right = -336.0
offset_bottom = -480.0
mouse_filter = 2

[node name="MarginContainer" parent="BattleUI/OverlayUnit" index="0"]
mouse_filter = 2

[node name="VBoxContainer" parent="BattleUI/OverlayUnit/MarginContainer" index="0"]
mouse_filter = 2

[node name="HBoxContainer" parent="BattleUI/OverlayUnit/MarginContainer/VBoxContainer" index="0"]
mouse_filter = 2

[node name="UnitsController" parent="." node_paths=PackedStringArray("navigation_tilemap") instance=ExtResource("2_cu7ak")]
navigation_tilemap = NodePath("../NavigationTileMap")

[node name="PlayerUnitsManagement" parent="." instance=ExtResource("3_eq3d1")]
world = Object(Node2D,"_import_path":NodePath(""),"unique_name_in_owner":false,"process_mode":0,"process_priority":0,"process_physics_priority":0,"process_thread_group":0,"editor_description":"","visible":true,"modulate":Color(1, 1, 1, 1),"self_modulate":Color(1, 1, 1, 1),"show_behind_parent":false,"top_level":false,"clip_children":0,"light_mask":1,"visibility_layer":1,"z_index":0,"z_as_relative":true,"y_sort_enabled":false,"texture_filter":0,"texture_repeat":0,"material":null,"use_parent_material":false,"position":Vector2(0, 0),"rotation":0.0,"scale":Vector2(1, 1),"skew":0.0,"script":ExtResource("1_3dkh7"),"metadata/_edit_vertical_guides_":[1584.0])


[node name="EnemyBattleIA" parent="." instance=ExtResource("4_8vivy")]
general = SubResource("Resource_jdtum")
armyGroup = Object(Node,"_import_path":NodePath(""),"unique_name_in_owner":false,"process_mode":0,"process_priority":0,"process_physics_priority":0,"process_thread_group":0,"editor_description":"","script":ExtResource("4_e2hns"),"army_color":Color(0.341176, 0.447059, 0.45098, 1),"ownership":"ETRURIA","spawnMarker":Object(Marker2D,"_import_path":NodePath(""),"unique_name_in_owner":true,"process_mode":0,"process_priority":0,"process_physics_priority":0,"process_thread_group":0,"editor_description":"","visible":true,"modulate":Color(1, 1, 1, 1),"self_modulate":Color(1, 1, 1, 1),"show_behind_parent":false,"top_level":false,"light_mask":1,"visibility_layer":1,"z_index":0,"z_as_relative":true,"y_sort_enabled":false,"texture_filter":0,"texture_repeat":0,"material":null,"use_parent_material":false,"position":Vector2(950, -1695),"rotation":3.14159,"scale":Vector2(1, 1),"skew":0.0,"gizmo_extents":10.0,"script":null)
)

playerGroup = Object(Node,"_import_path":NodePath(""),"unique_name_in_owner":false,"process_mode":0,"process_priority":0,"process_physics_priority":0,"process_thread_group":0,"editor_description":"","script":ExtResource("4_e2hns"),"army_color":Color(0.686275, 0.0235294, 0.0431373, 1),"ownership":"ROME","spawnMarker":Object(Marker2D,"_import_path":NodePath(""),"unique_name_in_owner":true,"process_mode":0,"process_priority":0,"process_physics_priority":0,"process_thread_group":0,"editor_description":"","visible":true,"modulate":Color(1, 1, 1, 1),"self_modulate":Color(1, 1, 1, 1),"show_behind_parent":false,"top_level":false,"light_mask":1,"visibility_layer":1,"z_index":0,"z_as_relative":true,"y_sort_enabled":false,"texture_filter":0,"texture_repeat":0,"material":null,"use_parent_material":false,"position":Vector2(1584, 1202),"rotation":0.0,"scale":Vector2(1, 1),"skew":0.0,"gizmo_extents":10.0,"script":null)
)


[node name="ArmyMarker" parent="EnemyBattleIA" index="0"]
position = Vector2(881, -1543)

[node name="Timer" parent="EnemyBattleIA" index="1"]
one_shot = false
autostart = true

[node name="Camera" parent="." instance=ExtResource("2_a41j7")]
unique_name_in_owner = true
zoom = Vector2(0.3, 0.3)
zoom_min = 0.1
starting_zoom = 0.3
zoom_difference = 0.05

[node name="Mouse" parent="." instance=ExtResource("2_mnpce")]
unique_name_in_owner = true
position = Vector2(660, 343)

[node name="Grass" type="Polygon2D" parent="."]
color = Color(0.345098, 0.568627, 0.32549, 1)
polygon = PackedVector2Array(-48337, -27122, 59037, -26999, 59951, 26510, -50129, 26382)
metadata/_edit_lock_ = true

[node name="PlayerArmy" type="Node" parent="."]
script = ExtResource("4_e2hns")
army_color = Color(0.686275, 0.0235294, 0.0431373, 1)
ownership = "ROME"
spawnMarker = Object(Marker2D,"_import_path":NodePath(""),"unique_name_in_owner":true,"process_mode":0,"process_priority":0,"process_physics_priority":0,"process_thread_group":0,"editor_description":"","visible":true,"modulate":Color(1, 1, 1, 1),"self_modulate":Color(1, 1, 1, 1),"show_behind_parent":false,"top_level":false,"light_mask"